{% extends "ch-node-utils/templates/layouts/template.njk" %}

{% from "govuk/components/breadcrumbs/macro.njk"          import govukBreadcrumbs %}
{% from "govuk/components/button/macro.njk"               import govukButton %}
{% from "govuk/components/back-link/macro.njk"            import govukBackLink %}
{% from "govuk/components/error-summary/macro.njk"        import govukErrorSummary %}
{% from "govuk/components/fieldset/macro.njk"             import govukFieldset %}
{% from "govuk/components/panel/macro.njk"                import govukPanel %}
{% from "govuk/components/checkboxes/macro.njk"           import govukCheckboxes %}
{% from "govuk/components/summary-list/macro.njk"         import govukSummaryList %}
{% from "govuk/components/inset-text/macro.njk"           import govukInsetText %}
{% from "govuk/components/textarea/macro.njk"             import govukTextarea %}
{% from "govuk/components/radios/macro.njk"               import govukRadios %}
{% from "govuk/components/input/macro.njk"                import govukInput %}
{% from "govuk/components/header/macro.njk"               import govukHeader %}
{% from "govuk/components/footer/macro.njk"               import govukFooter %}
{% from "govuk/components/service-navigation/macro.njk"   import govukServiceNavigation %}
{% from "govuk/components/notification-banner/macro.njk"  import govukNotificationBanner %}
{% from "web-security-node/components/csrf-token-input/macro.njk" import csrfTokenInput %}

{% block head %}
{{ super () }}
<meta name="format-detection" content="telephone=no">
<meta name="robots" content="noindex">
<!--[if !IE 8]><!-->
<link rel="stylesheet" type="text/css" media="all" href="{{ CSS_URL }}" />
<link rel="stylesheet" type="text/css" media="all" href="{{ FOOTER }}" />
<!--<![endif]-->
<link rel="SHORTCUT ICON" href="//{{CDN_URL}}/images/govuk-frontend/v3.5.0/images/favicon.ico" />
<link rel="icon" href="//{{CDN_URL}}/images/govuk-frontend/v3.5.0/images/favicon.ico" type="image/x-icon" />

<script src="https://code.jquery.com/jquery-1.12.4.min.js"
          integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
          crossorigin="anonymous">
</script>

<script type="application/javascript">
  window.SERVICE_NAME = '{{PIWIK_SERVICE_NAME}}'
  window.PIWIK_URL = '{{PIWIK_URL}}'
  window.PIWIK_SITE_ID = '{{PIWIK_SITE_ID}}'
</script>

<script src="{{ MOBILE_MENU }}"></script>

<div id="templateName" data-id='{{templateName}}' hidden></div>

{% endblock %}

{% block pageTitle %}
    {{ SERVICE_NAME }}
{% endblock %}

{% block bodyStart %}
  {% include "components/cookie-consent-banner.html" %}
{% endblock %}

{% block header %}
  {% include "includes/cookie-banner.html" %}
  {{ govukHeader({
    homepageUrl: "http://gov.uk/"
  }) }}
  {{ govukServiceNavigation({
    serviceName: serviceName,
      serviceUrl: SERVICE_URL
  }) }}
{% endblock %}

{% block footer %}
      {{ govukFooter({
      classes: "app-footer",
      meta: {
        items: [
          {
            href: "http://resources.companieshouse.gov.uk/serviceInformation.shtml",
            text: "Policies"
          },
          {
            href: "https://beta.companieshouse.gov.uk/help/cookies",
            text: "Cookies"
          },
          {
            href: "https://www.gov.uk/find-contact-details-companies-house",
            target: "_blank",
            text: "Contact us"
          },
          {
            href: "/help/accessibility-statement",
            text: "Accessibility statement"
          },
          {
            href: "https://developer.companieshouse.gov.uk/api/docs/",
            text: "Developers"
          }
        ],
        html: 'Built by <a class="govuk-footer__link" href="https://www.gov.uk/government/organisations/companies-house">Companies House</a>'
      }
    }) }}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
    {{ super() }}
  <script>var global = global || {}; global.CDN_ROOT = '//{{CDN_URL}}'</script>
  <script src="//{{CDN_URL}}/javascripts/vendor/require.js"></script>
  <script type="text/javascript">
    require(['//{{CDN_URL}}/javascripts/require-global-config.js'], function () {
        console.log('Loaded require-global-config.js');
  });
  </script>
    <script src="//{{CDN_URL}}/javascripts/app/piwik-enable.js"></script>
    <script src="//{{CDN_URL}}/javascripts/app/cookie-consent/cookie-consent-1.0.0.js"></script>
    <script src="//{{CDN_URL}}/javascripts/app/cookie-consent/piwik-only-cookie-consent.js"></script>
{% endblock %}
